# –ü–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã Telegram –±–æ—Ç–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### 1. –ó–∞–ø—É—Å–∫ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞:**

```
1. Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (run.py –∏–ª–∏ —á–µ—Ä–µ–∑ Gunicorn)
2. –í app/__init__.py –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è create_app()
3. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Flask app –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è initialize_bot(app)
4. –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –û–¢–î–ï–õ–¨–ù–û–ú –ø–æ—Ç–æ–∫–µ (daemon thread)
5. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ–µ–º asyncio event loop
6. –£ –±–æ—Ç–∞ –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ Flask app context –∏ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```

**–í–∞–∂–Ω–æ:**
- –ë–æ—Ç –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Flask app context
- –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç long polling –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram API

---

## üì± –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞

### –≠—Ç–∞–ø 1: –ü–µ—Ä–≤–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –±–æ—Ç–æ–º

**–ö–ª–∏–µ–Ω—Ç:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start` –±–æ—Ç—É

**–ë–æ—Ç (start_command):**
1. –ü–æ–ª—É—á–∞–µ—Ç `telegram_id` –∫–ª–∏–µ–Ω—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ –ë–î: `User.query.filter_by(telegram_id=telegram_id).first()`
3. **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω:**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏:
     - üìπ –ó–∞–∫–∞–∑–∞—Ç—å –≤–∏–¥–µ–æ
     - üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã
     - üë§ –ü—Ä–æ—Ñ–∏–ª—å
     - üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
4. **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –Ω–∞–π–¥–µ–Ω:**
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - –ü—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ –§–ò–û

---

### –≠—Ç–∞–ø 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞:** `REGISTRATION`

**–®–∞–≥ 1 - –§–ò–û:**
- –ö–ª–∏–µ–Ω—Ç –≤–≤–æ–¥–∏—Ç –§–ò–û (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á")
- –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `context.user_data['full_name']`
- –ü—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ email

**–®–∞–≥ 2 - Email:**
- –ö–ª–∏–µ–Ω—Ç –≤–≤–æ–¥–∏—Ç email (–Ω–∞–ø—Ä–∏–º–µ—Ä: "ivan@example.com")
- –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `context.user_data['email']`
- –ü—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω

**–®–∞–≥ 3 - –¢–µ–ª–µ—Ñ–æ–Ω:**
- –ö–ª–∏–µ–Ω—Ç –≤–≤–æ–¥–∏—Ç —Ç–µ–ª–µ—Ñ–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: "+7 999 123 45 67")
- –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `context.user_data['phone']`
- **–ù–ê–ß–ò–ù–ê–ï–¢–°–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –í–ï–ë-–°–ï–†–í–ò–°–û–ú:**
  1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –≤ –ë–î
  2. **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
     - –û–±–Ω–æ–≤–ª—è–µ—Ç `telegram_id` —É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
     - –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
     - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î: `db.session.commit()`
     - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é
  3. **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
     - –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î:
       ```python
       user = User(
           email=email.lower(),
           full_name=full_name,
           phone=phone,
           role='CUSTOMER',
           telegram_id=str(telegram_id)
       )
       ```
     - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –ø–∞—Ä–æ–ª—å (—á–µ—Ä–µ–∑ `User.generate_password()`)
     - –•–µ—à–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å: `user.set_password(password)`
     - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î: `db.session.add(user)` –∏ `db.session.commit()`
     - **–û–¢–ü–†–ê–í–õ–Ø–ï–¢ EMAIL —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –≤—Ö–æ–¥–∞ –Ω–∞ —Å–∞–π—Ç:**
       - `send_user_credentials_email(user, password)`
     - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –≤ –ë–î
- `telegram_id` —Å–æ—Ö—Ä–∞–Ω–µ–Ω
- –ü–∞—Ä–æ–ª—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ email
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –≤ –±–æ—Ç–µ, –∏ –Ω–∞ —Å–∞–π—Ç–µ

---

### –≠—Ç–∞–ø 3: –ó–∞–∫–∞–∑ –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

**–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞:** `SELECTING_EVENT` ‚Üí `SELECTING_CATEGORY` ‚Üí `SELECTING_ATHLETE` ‚Üí `SELECTING_VIDEO_TYPE` ‚Üí `CONFIRMING_ORDER`

**–®–∞–≥ 1 - –í—ã–±–æ—Ä —Ç—É—Ä–Ω–∏—Ä–∞:**
1. –ö–ª–∏–µ–Ω—Ç –Ω–∞–∂–∏–º–∞–µ—Ç "üìπ –ó–∞–∫–∞–∑–∞—Ç—å –≤–∏–¥–µ–æ"
2. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–∑ –ë–î –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã:
   ```python
   events = Event.query.filter_by(is_active=True)
                      .order_by(Event.start_date.desc())
                      .limit(10).all()
   ```
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—É—Ä–Ω–∏—Ä–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏
4. –ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä (callback_data: `event_123`)
5. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `event_id` –≤ `context.user_data['event_id']`

**–®–∞–≥ 2 - –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
1. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç—É—Ä–Ω–∏—Ä–∞:
   ```python
   categories = Category.query.filter_by(event_id=event_id).all()
   ```
2. –î–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤:
   ```python
   athletes_count = Athlete.query.filter_by(category_id=category.id).count()
   ```
3. –ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é
4. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `category_id` –≤ `context.user_data['category_id']`

**–®–∞–≥ 3 - –í—ã–±–æ—Ä —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞:**
1. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
   ```python
   athletes = Athlete.query.filter_by(category_id=category_id).all()
   ```
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ 20 —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤ (–µ—Å–ª–∏ –±–æ–ª—å—à–µ - –∫–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ")
3. –ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞
4. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `athlete_id` –≤ `context.user_data['athlete_id']`

**–®–∞–≥ 4 - –í—ã–±–æ—Ä —Ç–∏–ø–∞ –≤–∏–¥–µ–æ:**
1. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –≤–∏–¥–µ–æ:
   ```python
   video_types = VideoType.query.filter_by(is_active=True).all()
   ```
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å —Ü–µ–Ω–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–°–ø–æ—Ä—Ç –≤–µ—Ä—Å–∏—è - 1500 ‚ÇΩ")
3. –ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–∏–ø –≤–∏–¥–µ–æ
4. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `video_type_id` –≤ `context.user_data['video_type_id']`
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞**:
   - –¢—É—Ä–Ω–∏—Ä, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Å–ø–æ—Ä—Ç—Å–º–µ–Ω, —Ç–∏–ø –≤–∏–¥–µ–æ, —Å—Ç–æ–∏–º–æ—Å—Ç—å

**–®–∞–≥ 5 - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
1. –ö–ª–∏–µ–Ω—Ç –Ω–∞–∂–∏–º–∞–µ—Ç "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑"
2. **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ú–û–ú–ï–ù–¢ - –°–û–ó–î–ê–ù–ò–ï –ó–ê–ö–ê–ó–ê –í –ë–î:**
   ```python
   # 1. –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î –ø–æ telegram_id
   user = User.query.filter_by(telegram_id=str(telegram_id)).first()
   
   # 2. –°–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑
   order = Order(
       order_number=Order.generate_order_number(),  # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä
       generated_order_number=Order.generate_human_order_number(),
       customer_id=user.id,  # –°–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
       event_id=context.user_data['event_id'],
       category_id=context.user_data['category_id'],
       athlete_id=context.user_data['athlete_id'],
       video_types=[context.user_data['video_type_id']],  # –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –≤–∏–¥–µ–æ
       total_amount=VideoType.query.get(video_type_id).price,
       status='pending_payment',  # –û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã
       contact_email=user.email,
       contact_phone=user.phone,
       contact_first_name=user.full_name.split(' ')[0],
       contact_last_name=user.full_name.split(' ')[1] if ' ' in user.full_name else ''
   )
   
   # 3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
   db.session.add(order)
   db.session.commit()
   ```

3. –ë–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É:
   ```python
   payment_url = f"https://mainstreamfs.ru/payment/process?order_id={order.id}&method=card"
   ```

4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—É:
   - ‚úÖ –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω!
   - –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
   - –°—É–º–º–∞
   - –ö–Ω–æ–ø–∫–∞ "üí≥ –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ" (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç)
   - –ö–Ω–æ–ø–∫–∏ "üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã" –∏ "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"

**–í–∞–∂–Ω–æ:**
- –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å —Å—Ç–∞—Ç—É—Å–æ–º `pending_payment`
- –û–ø–ª–∞—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç–µ (—á–µ—Ä–µ–∑ CloudPayments)
- –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ webhook)

---

### –≠—Ç–∞–ø 4: –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤

**–ö–æ–º–∞–Ω–¥–∞:** `/orders` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã"

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç `telegram_id` –∫–ª–∏–µ–Ω—Ç–∞
2. –ù–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î: `User.query.filter_by(telegram_id=telegram_id).first()`
3. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∑–∞–∫–∞–∑–æ–≤:
   ```python
   orders = Order.query.filter_by(customer_id=user.id)
                      .order_by(Order.created_at.desc())
                      .limit(10).all()
   ```
4. –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫:
   - –≠–º–æ–¥–∑–∏ —Å—Ç–∞—Ç—É—Å–∞ (‚è≥ –û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã, üîÑ –í –æ–±—Ä–∞–±–æ—Ç–∫–µ, ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω)
   - –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
   - –¢—É—Ä–Ω–∏—Ä, —Å–ø–æ—Ä—Ç—Å–º–µ–Ω, —Å—É–º–º–∞, –¥–∞—Ç–∞
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—É

---

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–º

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–ø–µ—Ä–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∏–¥–µ–æ

**–í–µ–±-—Å–µ—Ä–≤–∏—Å (app/operator/routes.py):**
1. –û–ø–µ—Ä–∞—Ç–æ—Ä –∑–∞—Ö–æ–¥–∏—Ç –≤ –ø–∞–Ω–µ–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
2. –í—ã–±–∏—Ä–∞–µ—Ç –∑–∞–∫–∞–∑ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `processing` –∏–ª–∏ `paid`
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –≤–∏–¥–µ–æ
4. –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏"

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –±—ç–∫–µ–Ω–¥–µ:**
```python
# 1. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–∞–∫–∞–∑ –≤ –ë–î
order.video_links = {video_type_id: link, ...}
order.status = 'links_sent'
db.session.commit()

# 2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
from app.utils.telegram_notifier import send_video_links_notification
send_video_links_notification(order)
```

**Utility –º–æ–¥—É–ª—å (app/utils/telegram_notifier.py):**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ª–∏ –±–æ—Ç
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ event loop –±–æ—Ç–∞
3. **–ü–ª–∞–Ω–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É –≤ event loop –±–æ—Ç–∞:**
   ```python
   asyncio.run_coroutine_threadsafe(
       bot_manager.send_video_links_to_client(order),
       bot_loop
   )
   ```

**–ë–æ—Ç (bot_manager.py - send_video_links_to_client):**
1. **–†–∞–±–æ—Ç–∞–µ—Ç –≤ event loop –±–æ—Ç–∞** (–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫!)
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Flask app context (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω)
3. –ù–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email –∑–∞–∫–∞–∑–∞:
   ```python
   user = User.query.filter_by(email=order.contact_email).first()
   ```
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `telegram_id`
5. –§–æ—Ä–º–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
   ```
   üéâ –í–∞—à –∑–∞–∫–∞–∑ #MS-2024-001 –≥–æ—Ç–æ–≤!
   
   üìπ –°—Å—ã–ª–∫–∏ –Ω–∞ –≤–∏–¥–µ–æ:
   ‚Ä¢ –°–ø–æ—Ä—Ç –≤–µ—Ä—Å–∏—è: https://disk.yandex.ru/...
   ‚Ä¢ –¢–í –≤–µ—Ä—Å–∏—è: https://disk.yandex.ru/...
   
   üí∞ –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞: 1500 ‚ÇΩ
   üìÖ –î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞: 03.11.2024 14:30
   
   ‚ö†Ô∏è –°—Å—ã–ª–∫–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã 90 –¥–Ω–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏.
   ```
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ Telegram API:
   ```python
   await bot.application.bot.send_message(
       chat_id=user.telegram_id,
       text=message,
       parse_mode=ParseMode.HTML
   )
   ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –ë–ï–ó –¥–µ–π—Å—Ç–≤–∏–π —Å–æ —Å–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω—ã
- –°—Å—ã–ª–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä—è–º–æ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
- –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–∞–º —Å—Ä–∞–∑—É

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ó–∞–∫–∞–∑ —á–µ—Ä–µ–∑ —Å–∞–π—Ç, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ö–ª–∏–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –∑–∞–∫–∞–∑ –Ω–∞ —Å–∞–π—Ç–µ (–Ω–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞)
2. –û–ø–µ—Ä–∞—Ç–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–∫–∞–∑
3. –û–ø–µ—Ä–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∏–¥–µ–æ
4. **–ï—Å–ª–∏ —É –∫–ª–∏–µ–Ω—Ç–∞ –µ—Å—Ç—å telegram_id –≤ –ë–î** ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –±–æ—Ç–µ
5. **–ï—Å–ª–∏ telegram_id –Ω–µ—Ç** ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ email

**–õ–æ–≥–∏–∫–∞:**
- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `telegram_id` –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –ï—Å–ª–∏ `telegram_id` –Ω–µ—Ç, –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (–Ω–æ –∑–∞–∫–∞–∑ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è)

---

## üìä –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
1. –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø
   –ö–ª–∏–µ–Ω—Ç ‚Üí Telegram Bot ‚Üí –ë–î (—Å–æ–∑–¥–∞–Ω–∏–µ User)
   –ë–æ—Ç ‚Üí Email (–æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∞—Ä–æ–ª—è)

2. –ó–ê–ö–ê–ó –ß–ï–†–ï–ó –ë–û–¢–ê
   –ö–ª–∏–µ–Ω—Ç ‚Üí Telegram Bot ‚Üí –ë–î (—Å–æ–∑–¥–∞–Ω–∏–µ Order —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º pending_payment)
   –ë–æ—Ç ‚Üí –ö–ª–∏–µ–Ω—Ç (—Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É)
   –ö–ª–∏–µ–Ω—Ç ‚Üí –°–∞–π—Ç ‚Üí CloudPayments (–æ–ø–ª–∞—Ç–∞)
   CloudPayments ‚Üí –í–µ–±-—Å–µ—Ä–≤–∏—Å (webhook)
   –í–µ–±-—Å–µ—Ä–≤–∏—Å ‚Üí –ë–î (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Order.status = 'paid')

3. –û–ë–†–ê–ë–û–¢–ö–ê –ó–ê–ö–ê–ó–ê
   –û–ø–µ—Ä–∞—Ç–æ—Ä ‚Üí –ü–∞–Ω–µ–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ ‚Üí –ë–î (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Order.status = 'processing')
   –û–ø–µ—Ä–∞—Ç–æ—Ä ‚Üí –ü–∞–Ω–µ–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Å—ã–ª–æ–∫) ‚Üí –ë–î (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Order.video_links)
   –û–ø–µ—Ä–∞—Ç–æ—Ä ‚Üí –ü–∞–Ω–µ–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (–æ—Ç–ø—Ä–∞–≤–∫–∞) ‚Üí –ë–î (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Order.status = 'links_sent')
   –í–µ–±-—Å–µ—Ä–≤–∏—Å ‚Üí Telegram Bot (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
   Telegram Bot ‚Üí –ö–ª–∏–µ–Ω—Ç (—Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏)

4. –ü–†–û–°–ú–û–¢–† –ó–ê–ö–ê–ó–û–í
   –ö–ª–∏–µ–Ω—Ç ‚Üí Telegram Bot ‚Üí –ë–î (–∑–∞–ø—Ä–æ—Å Order)
   –ë–æ—Ç ‚Üí –ö–ª–∏–µ–Ω—Ç (—Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤)
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ—Ç–æ–∫–∏ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å

**–í–µ–±-—Å–µ—Ä–≤–∏—Å (Flask):**
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç WSGI (Gunicorn)
- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å = –æ–¥–∏–Ω –ø–æ—Ç–æ–∫

**Telegram Bot:**
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ (daemon thread)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç asyncio –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- Long polling –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram API

**–°–≤—è–∑—å –º–µ–∂–¥—É –Ω–∏–º–∏:**
- `asyncio.run_coroutine_threadsafe()` - –¥–ª—è –≤—ã–∑–æ–≤–∞ async —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- Flask app context —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ—Ç–æ–∫–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ `with app.app_context()`
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`_bot_manager`, `_bot_loop`) –¥–ª—è —Å–≤—è–∑–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î:**
- –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ SQLAlchemy ORM
- –¢—Ä–µ–±—É—é—Ç Flask app context
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (`db.session.commit()`)

**–ó–∞–ø—Ä–æ—Å—ã –±–æ—Ç–∞ –∫ –ë–î:**
- –í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `app.app_context()`
- –ë–æ—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–º –∂–µ –º–æ–¥–µ–ª—è–º, —á—Ç–æ –∏ –≤–µ–±-—Å–µ—Ä–≤–∏—Å
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ –∂–µ –∏–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–í –±–æ—Ç–µ:**
- –í—Å–µ async —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–µ—Ä–Ω—É—Ç—ã –≤ `try/except`
- –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å `exc_info=True`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

**–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
- –ï—Å–ª–∏ –±–æ—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (–ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (–ª–æ–≥–∏—Ä—É–µ—Ç—Å—è info)
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ ‚Üí –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è error, –Ω–æ –≤–µ–±-—Å–µ—Ä–≤–∏—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ï–¥–∏–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –ò –±–æ—Ç, –∏ –≤–µ–±-—Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –ë–î
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–∞–∫–∞–∑—ã, —Å–æ–±—ã—Ç–∏—è - –≤—Å–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
   - –ó–∞–∫–∞–∑ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ = –∑–∞–∫–∞–∑ –≤ –ë–î
   - –û–ø–ª–∞—Ç–∞ –Ω–∞ —Å–∞–π—Ç–µ = –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ë–î = –≤–∏–¥–Ω–æ –≤ –±–æ—Ç–µ
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Å—ã–ª–æ–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º = —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –±–æ—Ç–µ

3. **–ì–∏–±–∫–æ—Å—Ç—å:**
   - –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞, –∏ —á–µ—Ä–µ–∑ —Å–∞–π—Ç
   - –î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - `telegram_id` —Å–≤—è–∑—ã–≤–∞–µ—Ç –∞–∫–∫–∞—É–Ω—Ç—ã

4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
   - –ï—Å–ª–∏ –±–æ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤–µ–±-—Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
   - –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram –Ω–µ —É–¥–∞–ª–∞—Å—å - –∑–∞–∫–∞–∑ –≤—Å–µ —Ä–∞–≤–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
   - –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

---

## üìù –†–µ–∑—é–º–µ

**Telegram –±–æ—Ç - —ç—Ç–æ:**
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π –∑–∞–∫–∞–∑–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É–≤–µ–¥–æ–º–∏—Ç–µ–ª—å –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–º —á–µ—Ä–µ–∑ –æ–±—â—É—é –ë–î –∏ Flask app context
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Å–µ—Ä–≤–∏—Å, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ

**–ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç:**
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- –ó–∞–∫–∞–∑–∞—Ç—å –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- –û–ø–ª–∞—Ç–∏—Ç—å –Ω–∞ —Å–∞–π—Ç–µ (–ø–æ —Å—Å—ã–ª–∫–µ –∏–∑ –±–æ—Ç–∞)
- –ü–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤–∏–¥–µ–æ –≤ –±–æ—Ç–µ
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞–∫–∞–∑—ã –≤ –±–æ—Ç–µ

**–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –æ–±—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö!**




